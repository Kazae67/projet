{% extends 'base.html.twig' %}

{% block title %}Login
{% endblock %}

{% block body %}
	<h1>Login</h1>
	{% if error %}
		<div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
	{% endif %}
	{# Afficher les messages de type 'success' #}
	{% for message in app.flashes('success') %}
		<div class="alert alert-success">{{ message }}</div>
	{% endfor %}

	{# Afficher les messages de type 'error' #}
	{% for message in app.flashes('error') %}
		<div class="alert alert-danger">{{ message }}</div>
	{% endfor %}

	{# Afficher les messages de type 'notice' #}
	{% for message in app.flashes('notice') %}
		<div class="alert alert-info">{{ message }}</div>
	{% endfor %}

	<form method="post">
		<label for="inputEmail">Email:</label>
		<input type="email" name="_username" id="inputEmail" required autofocus>
		<br>
		<label for="inputPassword">Password:</label>
		<input type="password" name="_password" id="inputPassword" required>
		<br>
		<button type="submit" class="btn btn-login">Login</button>
	</form>

	{# Formulaire pour renvoyer le mail de confirmation #}
	<form action="{{ path('app_resend_confirmation') }}" method="post">
		<label for="resendEmail">Enter your email to resend the confirmation link:</label>
		<input type="email" id="resendEmail" name="email" required>
		<button type="submit">Resend Email</button>
	</form>
{% endblock %}
